(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{526:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("REmote DIctionary Server(Redis) 是一个由 Salvatore Sanfilippo 写的 key-value 存储系统，是跨平台的非关系型数据库。")])]),s._v(" "),a("h2",{attrs:{id:"redis基础数据结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis基础数据结构"}},[s._v("#")]),s._v(" Redis基础数据结构")]),s._v(" "),a("h3",{attrs:{id:"一、string-字符串"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、string-字符串"}},[s._v("#")]),s._v(" 一、String（字符串）")]),s._v(" "),a("p",[s._v("在任何一种编程语言里，字符串String都是最基础的数据结构")]),s._v(" "),a("ol",[a("li",[s._v("应用场景：")])]),s._v(" "),a("p",[s._v("存储key-value键值对，这个比较简单不细说了")]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("字符串（String）常用的命令：")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("   给指定key设置值（set 可覆盖老的值）\nget  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("   获取指定key 的值\ndel  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("   删除指定key\nexists  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  判断是否存在指定key\nmset  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" 批量存键值对\nmget  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("   批量取key\nexpire "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    给指定key 设置过期时间  单位秒\nsetex    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  等价于 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" + expire 命令组合\nsetnx  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("   如果key不存在则set 创建，否则返回0\nincr   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("           如果value为整数 可用 incr命令每次自增1\nincrby  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  使用incrby命令对整数值 进行增加 number\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"二、list-列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、list-列表"}},[s._v("#")]),s._v(" 二、list(列表)")]),s._v(" "),a("ol",[a("li",[s._v("应用场景：")])]),s._v(" "),a("p",[s._v("由于list它是一个按照插入顺序排序的列表，所以应用场景相对还较多的，例如：")]),s._v(" "),a("ul",[a("li",[s._v("消息队列：lpop和rpush（或者反过来，lpush和rpop）能实现队列的功能")]),s._v(" "),a("li",[s._v("朋友圈的点赞列表、评论列表、排行榜：lpush命令和lrange命令能实现最新列表的功能，每次通过lpush命令往列表里插入新的元素，然后通过lrange命令读取最新的元素列表。")])]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("list操作的常用命名：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("rpush  [key] [value1] [value2] ......    链表右侧插入\nrpop    [key]  移除右侧列表头元素，并返回该元素\nlpop   [key]    移除左侧列表头元素，并返回该元素\nllen  [key]     返回该列表的元素个数\nlrem [key] [count] [value]  删除列表中与value相等的元素，count是删除的个数。 count>0 表示从左侧开始查找，删除count个元素，count<0 表示从右侧开始查找，删除count个相同元素，count=0 表示删除全部相同的元素\n(PS:   index 代表元素下标，index 可以为负数， index= 表示倒数第一个元素，同理 index=-2 表示倒数第二 个元素。)\nlindex [key] [index]  获取list指定下标的元素 （需要遍历，时间复杂度为O(n)）\nlrange [key]  [start_index] [end_index]   获取list 区间内的所有元素 （时间复杂度为 O（n））\nltrim  [key]  [start_index] [end_index]   保留区间内的元素，其他元素删除（时间复杂度为 O（n））\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"三、hash-字典"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、hash-字典"}},[s._v("#")]),s._v(" 三、hash （字典）")]),s._v(" "),a("p",[s._v("1、应用场景：")]),s._v(" "),a("ul",[a("li",[s._v("购物车：hset [key] [field] [value] 命令， 可以实现以用户Id，商品Id为field，商品数量为value，恰好构成了购物车的3个要素。")]),s._v(" "),a("li",[s._v("存储对象：hash类型的(key, field, value)的结构与对象的(对象id, 属性, 值)的结构相似，也可以用来存储对象。\n2、hash常用的操作命令：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("hset  [key]  [field] [value]    新建字段信息\nhget  [key]  [field]    获取字段信息\nhdel [key] [field]  删除字段\nhlen  [key]   保存的字段个数\nhgetall  [key]  获取指定key 字典里的所有字段和值 （字段信息过多,会导致慢查询 慎用：亲身经历 曾经用过这个这个指令导致线上服务故障）\nhmset  [key]  [field1] [value1] [field2] [value2] ......   批量创建\nhincr  [key] [field]   对字段值自增\nhincrby [key] [field] [number] 对字段值增加number\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"四、set-集合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、set-集合"}},[s._v("#")]),s._v(" 四、set(集合)")]),s._v(" "),a("ol",[a("li",[s._v("应用场景：")])]),s._v(" "),a("ul",[a("li",[s._v("好友、关注、粉丝、感兴趣的人集合：\n"),a("ul",[a("li",[s._v("sinter命令可以获得A和B两个用户的共同好友；")]),s._v(" "),a("li",[s._v("sismember命令可以判断A是否是B的好友；")]),s._v(" "),a("li",[s._v("scard命令可以获取好友数量；")]),s._v(" "),a("li",[s._v("关注时，smove命令可以将B从A的粉丝集合转移到A的好友集合")])])]),s._v(" "),a("li",[s._v("首页展示随机：美团首页有很多推荐商家，但是并不能全部展示，set类型适合存放所有需要展示的内容，而srandmember命令则可以从中随机获取几个。")]),s._v(" "),a("li",[s._v("存储某活动中中奖的用户ID ，因为有去重功能，可以保证同一个用户不会中奖两次。")])]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("set的常用命令：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sadd  [key]  [value]  向指定key的set中添加元素\nsmembers [key]    获取指定key 集合中的所有元素\nsismember [key] [value]   判断集合中是否存在某个value\nscard [key]    获取集合的长度\nspop  [key]   弹出一个元素\nsrem [key] [value]  删除指定元素\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"五、zset-有序集合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、zset-有序集合"}},[s._v("#")]),s._v(" 五、zset(有序集合)")]),s._v(" "),a("ol",[a("li",[s._v("应用场景：")])]),s._v(" "),a("ul",[a("li",[s._v("zset 可以用做排行榜，但是和list不同的是zset它能够实现动态的排序，例如： 可以用来存储粉丝列表，value 值是粉丝的用户 ID，score 是关注时间，我们可以对粉丝列表按关注时间进行排序。")]),s._v(" "),a("li",[s._v("zset 还可以用来存储学生的成绩， value 值是学生的 ID, score 是他的考试成绩。 我们对成绩按分数进行排序就可以得到他的名次。")])]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("zset有序集合的常用操作命令：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("zadd [key] [score] [value] 向指定key的集合中增加元素\nzrange [key] [start_index] [end_index] 获取下标范围内的元素列表，按score 排序输出\nzrevrange [key] [start_index] [end_index]  获取范围内的元素列表 ，按score排序 逆序输出\nzcard [key]  获取集合列表的元素个数\nzrank [key] [value]  获取元素再集合中的排名\nzrangebyscore [key] [score1] [score2]  输出score范围内的元素列表\nzrem [key] [value]  删除元素\nzscore [key] [value] 获取元素的score\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);